#include QMK_KEYBOARD_H
#include "raw_hid.h"

// --- HELPERS ---
#define _____ KC_NO
#define __v__ KC_TRNS
// --- END OF HELPERS ---

// --- LAYERS ---
#define _WORKMAN_LAYER 0
#define _QWERTY_LAYER  1
#define _MOVE_LAYER 2
#define _MOUSE_LAYER 3
#define _SYSTEM_LAYER 4
// --- END OF LAYERS ---

// --- TAP DANCES ---
enum {
    TD_5_F5,
};

qk_tap_dance_action_t tap_dance_actions[] = {
    [TD_5_F5] = ACTION_TAP_DANCE_DOUBLE(KC_5, KC_F5),
};
// --- END OF TAP DANCES ---

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
	[_WORKMAN_LAYER] = LAYOUT_ortho_5x15(
        	// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        	MO(_SYSTEM_LAYER)        , /* | */ KC_1   , KC_2    ,  KC_3   ,  KC_4 , TD(TD_5_F5)  , /* | */ _____, _____,  _____, /* | */ KC_6           , KC_7  , KC_8   , KC_9    , KC_0     , /* | */ KC_BSPC     ,
        	// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        	KC_TAB        , /* | */ KC_Q   , KC_D    , KC_R    , KC_W  , KC_B         , /* | */ _____, _____ , _____, /* | */ KC_J           , KC_F  , KC_U   , KC_P    , KC_SCLN  , /* | */ KC_QUOT     ,
        	LCTL_T(KC_ESC), /* | */ KC_A   , KC_S    , KC_H    , KC_T  , KC_G         , /* | */ _____, _____ , _____, /* | */ KC_Y           , KC_N  , KC_E   , KC_O    , KC_I     , /* | */ KC_ENT      ,
        	OSM(MOD_LSFT) , /* | */ KC_Z   , KC_X    , KC_M    , KC_C  , KC_V         , /* | */ _____, _____ , _____, /* | */ KC_K           , KC_L  , OSL(5) , KC_DOT  , KC_SLSH  , /* | */ OSM(MOD_RSFT)     ,
        	// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        	_____         , /* | */ OSM(MOD_LGUI), OSM(MOD_LALT) , KC_BSPC , KC_SPC, _____        , /* | */ _____, _____ , _____, /* | */ MO(_MOVE_LAYER), KC_ENT, _____  , OSM(MOD_RALT) , OSM(MOD_RGUI)  , /* | */ _____)      ,
        	// -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	[_QWERTY_LAYER] = LAYOUT_ortho_5x15(
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    ,  __v__   ,  __v__ , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ KC_Q    , KC_W     , KC_E     , KC_R   , KC_T          , /* | */ __v__, __v__ , __v__, /* | */ KC_Y            , KC_U   , KC_I    , KC_O     , KC_P      , /* | */ __v__       ,
        	__v__         , /* | */ KC_A    , KC_S     , KC_D     , KC_F   , KC_G          , /* | */ __v__, __v__ , __v__, /* | */ KC_H            , KC_J   , KC_K    , KC_L     , __v__     , /* | */ __v__       ,
        	__v__         , /* | */ KC_Z    , KC_X     , KC_C     , KC_V   , KC_B          , /* | */ __v__, __v__ , __v__, /* | */ KC_N            , KC_M   , __v__   , __v__    , __v__     , /* | */ __v__       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__)      ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------

	[_MOVE_LAYER] = LAYOUT_ortho_5x15(
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    ,  __v__   ,  __v__ , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ KC_INS          , KC_HOME  , KC_UP   , KC_END    , KC_PGUP     , /* | */ __v__       ,
        	__v__         , /* | */ __v__   , OSM(_MOUSE_LAYER)   , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ KC_DEL          , KC_LEFT  , KC_DOWN   , KC_RIGHT    , KC_PGDN     , /* | */ __v__       ,
        	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__)      ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------

	[_MOUSE_LAYER] = LAYOUT_ortho_5x15(
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    ,  __v__        ,  __v__      , __v__              , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__        , __v__          , __v__             , /* | */ KC_MS_ACCEL0       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    , __v__         , __v__       , __v__              , /* | */ __v__, __v__ , __v__, /* | */ KC_INS          , __v__  , KC_MS_UP     , KC_END         , KC_MS_WH_UP       , /* | */ KC_MS_ACCEL1       ,
        	__v__         , /* | */ __v__   , __v__    , __v__         , __v__       , __v__              , /* | */ __v__, __v__ , __v__, /* | */ KC_DEL          , __v__  , KC_MS_DOWN   , KC_MS_RIGHT    , KC_MS_WH_DOWN     , /* | */ KC_MS_ACCEL2       ,
        	__v__         , /* | */ __v__   , __v__    , __v__         , __v__       , __v__              , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__        , __v__          , __v__             , /* | */ __v__       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , __v__    , KC_MS_BTN2    , KC_MS_BTN1  , KC_MS_BTN3         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__        , __v__          , __v__             , /* | */ __v__)      ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------

	[_SYSTEM_LAYER] = LAYOUT_ortho_5x15(
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ RGB_TOG   , RGB_MOD    ,  RGB_HUI   ,  RGB_SAI , RGB_VAI         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ RESET       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	__v__         , /* | */ __v__   , RGB_RMOD    , RGB_HUD    , RGB_SAD  , RGB_VAD         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ DEBUG       ,
        	KC_ASUP         , /* | */ RGB_M_P   , RGB_M_B    , RGB_M_R    , RGB_M_SW  , RGB_M_SN         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
                KC_ASDN         , /* | */ RGB_M_K   , RGB_M_X    , RGB_M_G    , RGB_M_T  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ DF(_WORKMAN_LAYER)       ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
        	KC_ASTG         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ DF(_QWERTY_LAYER))      ,
        	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------

#if 0
	[_EMPTY_LAYER] = LAYOUT_ortho_5x15(
	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
	__v__         , /* | */ __v__   , __v__    ,  __v__   ,  __v__ , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__       ,
	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
	__v__         , /* | */ __v__   , __v__    , __v__    , __v__  , __v__         , /* | */ __v__, __v__ , __v__, /* | */ __v__           , __v__  , __v__   , __v__    , __v__     , /* | */ __v__)      ,
	// ---------------------------------------------------------------------------------------------------------------------------------------------------------------
#endif
};

void raw_hid_receive(uint8_t *data, uint8_t length) {
        raw_hid_send(data, length);
}
